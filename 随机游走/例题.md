A.Eddy Walker(随机游走/概率)
T组样例，每次有一个下标0到Ni-1的环，

每次可以随机选择向前一步或向后一步，0后一步是Ni-1，Ni-1向前一步是0

从下标为0的点开始随机游走，直到所有下标都被访问过一次之后停止

停止的位置是Mi，则称这组样例对应事件发生

问前i组样例对应事件连续发生的概率，分数mod 1e9+7

 

思路来源：官方题解

连续发生显然为前i次的概率相乘，考虑每次的概率

如果点数大于1，从0出发后，就不可能再走到0；所以n==1时m=1，n>1时m=0

对于其他的点，由于随机游走，最终在每个点停留的概率相同，为
————————————————
版权声明：本文为CSDN博主「Code92007」的原创文章，遵循CC 4.0 BY-SA版权协议，转载请附上原文出处链接及本声明。
原文链接：https://blog.csdn.net/Code92007/article/details/96615724

- 赌徒在赌场赌博，赢的概率是 p p*p*，输的概率 1 − p 1 - p1−*p*，每次的赌注为 1 元，假设赌徒最开始时有赌金 n n*n* 元，赢了赌金加1元，输了赌金减1元. 问赌徒输光的概率是多少？

假设赌徒的初始资金是n，每赌一次或输或赢，资金分别变为n+1和n-1。输或者赢的概率为0.5，求一直赌下去资金变为0的概率是多少？假设从n开始一直赌下去变为0的概率是T(n).

那么我们有：

T(0) = 1

T(n)=0.5*T(n-1)+0.5*T(n+1);

T(n) = ( T(n-1) + T(n+1) )/2, 对n > 0.

这第二个式子相当于数n有一半机会变成n-1，一半机会变成n+1。

那么变换一下相当于T(n+1) = 2T(n)-T(n-1)。

设T(1)的值为a, 那么显然0< a<=1。利用T(n+1) = 2T(n)-T(n-1)

T(1) = a

T(2) = 2a - 1

T(3) = 2(2a-1) - a = 3a - 2

T(4) = 4a - 3

...

T(n) = na - n + 1.

我们知道T(n) >= 0对于任意的n成立。

在n(a-1)+1这种情况下，a无限接近1，.

所以我们证明了T(1) 约等于 1. 同样的过程可以得到T(2)约等于 1, ...,

一直下去，T(n) 约等于 1.

这样，我们得到了一个有些违背直觉的结论：无论你有多少钱，你用50%的概率

赌下去，“久赌必输”。有些赌徒会一次押多些，不是一次1单位，但我们并不难认同，这只会改变输的方式，只要是50%的概率，最后总是输光的