## **一、视频码率**

　　码率就是数据传输时单位时间传送的数据位数，一般我们用的单位是kbps即千位每秒。也就是取样率（并不等同与采样率，采样率的单位是Hz，表示每秒采样的次数），单位时间内取样率越大，精度就越高，处理出来的文件就越接近原始文件，但是文件体积与取样率是成正比的，所以几乎所有的编码格式重视的都是如何用最低的码率达到最少的失真，围绕这个核心衍生出来cbr（固定码率）与vbr（可变码率）， “码率”就是失真度，码率越高越清晰，反之则画面粗糙而多马赛克。

　　影响体积，与体积成正比：码率越大，体积越大；码率越小，体积越小。

### **计算公式：**

　　基本的算法是：【码率】（kbps）=【文件大小】（MB） /【时间】（秒），举例，D5的碟，容量4.3G，其中考虑到音频的不同格式，姑且算为600M，（故剩余容量为4.3*1024-600=3803.2M），所以视频文件应不大于3.7G，本例中取视频文件的容量为3.446G，视频长度100分钟（6000秒），计算结果：码率约等于4933kbps。

## **二、帧率**

　　帧率（Frame rate）是用于测量显示帧数的量度。所谓的测量单位为每秒显示帧数（Frames per Second，简称：FPS）或“赫兹”（Hz）。此词多用于影视制作和电子游戏。

　　影响画面流畅度，与画面流畅度成正比：帧率越大，画面越流畅；帧率越小，画面越有跳动感。

　　如果码率为变量，则帧率也会影响体积，帧率越高，每秒钟经过的画面越多，需要的码率也越高，体积也越大。帧率就是在1秒钟时间里传输的图片的帧数，也可以理解为图形处理器每秒钟能够刷新几次。

## **三、分辨率**

　　分辨率可以从显示分辨率与图像分辨率两个方向来分类。

　　显示分辨率（屏幕分辨率）是屏幕图像的精密度，是指显示器所能显示的像素有多少。由于屏幕上的点、线和面都是由像素组成的，显示器可显示的像素越多，画面就越精细，同样的屏幕区域内能显示的信息也越多，所以分辨率是个非常重要的性能指标之一。可以把整个图像想象成是一个大型的棋盘，而分辨率的表示方式就是所有经线和纬线交叉点的数目。显示分辨率一定的情况下，显示屏越小图像越清晰，反之，显示屏大小固定时，显示分辨率越高图像越清晰。

　　分辨率影响图像大小，与图像大小成正比：分辨率越高，图像越大；分辨率越低，图像越小。

　　带宽、帧率

　　例如在ADSL线路上传输图像，上行带宽只有512Kbps，但要传输4路CIF分辨率的图像。按照常规，CIF分辨率建议码率是512Kbps，那么照此计算就只能传一路，降低码率势必会影响图像质量。那么为了确保图像质量，就必须降低帧率，这样一来，即便降低码率也不会影响图像质量，但在图像的连贯性上会有影响

## **四、联系**

　　在码率一定的情况下，分辨率与清晰度成反比关系：分辨率越高，图像越不清晰，分辨率越低，图像越清晰。

　　在分辨率一定的情况下，码率与清晰度成正比关系，码率越高，图像越清晰；码率越低，图像越不清晰。

***\*码率\****：影响体积，与体积成正比：码率越大，体积越大；码率越小，体积越小。

## 2 获取视频属性

以下是opencv-python可以获取视频的相关信息，可以通过从0开始的序号获取

CV_CAP_PROP_POS_MSEC 视频文件的当前位置（以毫秒为单位）或视频捕获时间戳。

CV_CAP_PROP_POS_FRAMES 接下来要解码/捕获的帧的基于0的索引。

CV_CAP_PROP_POS_AVI_RATIO 视频文件的相对位置：0 - 电影的开始，1 - 电影的结尾。

CV_CAP_PROP_FRAME_WIDTH 视频流中帧的宽度。

CV_CAP_PROP_FRAME_HEIGHT 视频流中帧的高度。

CV_CAP_PROP_FPS 帧速率。

CV_CAP_PROP_FOURCC 编解码器的4字符代码。

CV_CAP_PROP_FRAME_COUNT 视频文件中的帧数。

CV_CAP_PROP_FORMAT 返回的Mat对象的格式 retrieve() 。

CV_CAP_PROP_MODE 指示当前捕获模式的特定于后端的值。

CV_CAP_PROP_BRIGHTNESS 图像的亮度（仅适用于相机）。

CV_CAP_PROP_CONTRAST 图像对比度（仅适用于相机）。

CV_CAP_PROP_SATURATION 图像的饱和度（仅适用于相机）。

CV_CAP_PROP_HUE 图像的色调（仅适用于相机）。

CV_CAP_PROP_GAIN 图像的增益（仅适用于相机）。

CV_CAP_PROP_EXPOSURE 曝光（仅适用于相机）。

CV_CAP_PROP_CONVERT_RGB 布尔标志，指示是否应将图像转换为RGB。

CV_CAP_PROP_WHITE_BALANCE_U 白平衡设置的U值（注意：目前仅支持DC1394 v 2.x后端）

CV_CAP_PROP_WHITE_BALANCE_V 白平衡设置的V值（注意：目前仅支持DC1394 v 2.x后端）

CV_CAP_PROP_RECTIFICATION 立体摄像机的整流标志（注意：目前仅支持DC1394 v 2.x后端）

CV_CAP_PROP_ISO_SPEED摄像机 的ISO速度（注意：目前仅支持DC1394 v 2.x后端）

CV_CAP_PROP_BUFFERSIZE 存储在内部缓冲存储器中的帧数（注意：目前仅支持DC1394 v 2.x后端）

代码示例：

```python3
cap = cv2.VideoCapture(video_name)
# 帧率
fps = int(round(cap.get(cv2.CAP_PROP_FPS)))
# 分辨率-宽度
width = int(cap.get(cv2.CAP_PROP_FRAME_WIDTH))
# 分辨率-高度
height = int(cap.get(cv2.CAP_PROP_FRAME_HEIGHT))
# 总帧数
frame_counter = int(cap.get(cv2.CAP_PROP_FRAME_COUNT))

cap.release()
cv2.destroyAllWindows()
# 时长，单位s
duration = frame_counter / fps
```